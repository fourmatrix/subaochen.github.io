# 问题的提出

Example 4.2是一个很接近实际的问题：

> Jack管理着一家有两个场地的小型的租车公司（分别称为first location和second location，每租出一部车，Jack可赚10刀。为了提高车子的出租率，Jack在夜间调度车辆，即把车子从一个场地调度到另外一个场地，成本是2刀/辆。假设每个场地**每天**租车和还车的数量是泊松随机变量，即其数值是n的概率为$$\frac{\lambda^n}{n!}e^{-\lambda}$$，其中$$\lambda$$为期望。假设场地1和场地2租车的的$$\lambda$$分别为3和4，还车的$$\lambda$$分别为3和2。为了简化问题起见，我们假设每个场地最多可停20部车（如果归还的车辆超出了20部，我们假设超出的车辆无偿调度到了别的地方，比如总公司），并且每个场地每天最多调度5部车子。
>
> 请问Jack在每个场地应该部署多少部车子？每天晚上如何调度？

# 初步分析

这是每个经营者都关心的问题：利益最大化。部署的车子多了会造成闲置浪费，部署的车子少了会丢掉客户。同样，盲目的调度车辆只会增加调度的费用。

读到这个题目，很自觉的合上书，尝试给出自己的方案。但是说实话，想了半天依然没有很好的头绪。先说一下初步想到的思路：这显然是一个策略优化问题，我们首先要建立策略的模型。对于MDP问题，就是要分析出问题的状态空间、动作空间、状态转移机制（概率）和奖励机制，分别如下：

* 状态空间：两个场地的汽车数量共同决定了一个状态，即问题的状态可以定义为[# of cars of first location, # of cars of second location]。
* 动作空间：在这个问题中有三种动作：租车、还车、调度车辆，哪种动作作为动作空间的元素呢？一时想不清楚......
* 状态转移机制：动作空间没有想清楚，导致状态转移机制也没法考虑：毕竟状态的转移是动作引起的。
* 奖励机制：这个似乎比较明确，`租车的收益-调度的费用`即最终的收益作为奖励比较合适。

# 进一步的分析

进一步的分析发现，虽然租车、还车和调度都会改变状态进而影响最终的收益，但是租车量和还车量是一个我们无法控制的量！只有调度是我们可以控制和优化的量，这也许是问题的核心？

根据问题的假设，调度的上限是5部车子。每调度一部车子，都会对状态空间。

